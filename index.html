<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link href="../KumaKing009.github.io/index.css" rel="stylesheet" type="text/css">
    <script src="./lib/vconsole.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="https://d.line-scdn.net/liff/1.0/sdk.js"></script>
</head>

<body>
    <h1>feelMacho</h1>
    <hr />
    <div align="center">
        <p>画像ファイルを選んでください。</p>
        <input id="inputFile" name="file" type="file" accept="image/*"></input>
        <hr />
        <div class="wrapper">
            <button onclick="sendImage()">筋肉で感じるのです。</button>
        </div>
    </div>
    <hr />
    <div id="message" class="wrapper">知力とは(筋)力なり</div>
    <a href="https://ja.wikipedia.org/wiki/レオニダス1世" id="linkArea" class="wrapper">
        <img id="art" name="art" src="../KumaKing009.github.io/reonidas.jpg">
    </a>

    <script type="text/javascript">

        function sendImage()
        {
            const DavidStatue = 'その肉体美は、一つの理想。栄養バランスの良い小松菜とブロッコリーと夏蜜柑のプロテインスムージーで、少しでも理想に近づこう！';
            const LaoconeStatue = '作者不明だが、それも相まってロマンを掻き立てる作品。筋トレをした後にブルーベリーとバナナとヨーグルトのプロテインスムージーを飲み、ロマンを感じ取ろう！';
            const SocratesDeath = '知力とは筋肉である。ほうれん草とバナナのプロテインスムージーで、意思を貫徹する筋力を培おう！';
            const DyingSlave = '未完ゆえの美か、作者の飽くなき探求心の発露か。リンゴとイチゴと豆乳のプロテインスムージーで頭のモヤを晴らし、哲学に耽ろう。それもまた筋トレ。';
            const TheThinker = '地獄とは何か、この作品と共に思案に暮れるのも一興。小松菜とバナナとヨーグルトのプロテインスムージーで、思考する筋力を付けよう！';
            const Bacchus = '美酒に酔う感覚は得も言われぬ快感だ。しかし、プロテインスムージーとお酒の相性は最悪なので、やめようね！';
            const artFolderPath = "../KumaKing009.github.io/ArtDeSmoothie";
            var params = {
                // Request parameters
                "iterationId": "18035052-8220-4031-8635-01d8c00f419e",
                // "application": "{string}",
            };

            $.ajax({
                url: "https://japaneast.api.cognitive.microsoft.com/customvision/v3.0/Prediction/3e92ee0d-7155-4bd5-8428-0256d5cc3b22/classify/iterations/Iteration1/image?" + $.param(params),
                beforeSend: function (xhrObj)
                {
                    // Request headers
                    xhrObj.setRequestHeader("Content-Type", "multipart/form-data");
                    xhrObj.setRequestHeader("Prediction-key", "ca895d8bab704bc69d4d2cafcaf31020");
                },
                type: "POST",
                data: $("input[name='file']").prop("files")[0],
                processData: false,
                contentType: false
            })
                .done(function (data)
                {
                    console.log(data)
                    console.log(data["predictions"][0]["tagName"])
                    switch (data["predictions"][0]["tagName"])
                    {
                        case "Statue de David":
                            sendMessage = DavidStatue;
                            document.art.src = artFolderPath + "/DavidStatue/images.jpg";
                            document.getElementById("message").innerHTML = sendMessage;
                            document.getElementById("linkArea").href = "https://ja.wikipedia.org/wiki/ダビデ像_(ミケランジェロ)";
                            break;
                        case "Statue Lao Cone":
                            sendMessage = LaoconeStatue;
                            document.art.src = artFolderPath + "/LaoconeStatue/images.jpg";
                            document.getElementById("message").innerHTML = sendMessage;
                            document.getElementById("linkArea").href = "https://ja.wikipedia.org/wiki/ラオコーン像";
                            break;
                        case "La Mort de Socrate":
                            sendMessage = SocratesDeath;
                            document.art.src = artFolderPath + "/SocratesDeath/Jean-Francois-Pierre-Peyron-The-Death-of-Socrates-4-.jpg";
                            document.getElementById("message").innerHTML = sendMessage;
                            document.getElementById("linkArea").href = "https://ja.wikipedia.org/wiki/ソクラテスの死";
                            break;
                        case "Esclave noyé":
                            sendMessage = DyingSlave;
                            document.art.src = artFolderPath + "/DyingSlave/slave3.jpg";
                            document.getElementById("message").innerHTML = sendMessage;
                            document.getElementById("linkArea").href = "https://www.louvre.fr/jp/oeuvre-notices/《奴隷》";
                            break;
                        case "Penseur":
                            sendMessage = TheThinker;
                            document.art.src = artFolderPath + "/TheThinker/71ftr9cPGAL._SX342_.jpg";
                            document.getElementById("message").innerHTML = sendMessage;
                            document.getElementById("linkArea").href = "https://ja.wikipedia.org/wiki/考える人_(ロダン)";
                            break;
                        case "Statue de Bacchus":
                            sendMessage = Bacchus;
                            document.art.src = artFolderPath + "/Bacchus/images (1).jpg";
                            document.getElementById("message").innerHTML = sendMessage;
                            document.getElementById("linkArea").href = "https://ja.wikipedia.org/wiki/バックス_(ローマ神話)";
                            break;
                        case "Statue":
                            sendMessage = "もう一度試したまえ。";
                            document.getElementById("message").innerHTML = sendMessage;
                            document.getElementById("art").src = "reonidas.jpg";
                            break;
                        default:
                            sendMessage = "もう一度試したまえ。";
                            document.getElementById("message").innerHTML = sendMessage;
                            document.getElementById("art").src = "reonidas.jpg";
                            break;
                    }
                })
                .fail(function ()
                {
                    document.getElementById("message").innerHTML = "もう一度試したまえ。";
                });
        }

    </script>
</body>

</html>
